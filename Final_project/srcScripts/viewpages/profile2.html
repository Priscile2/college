<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile Page</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="profile.css">

    <style>
        body {
            background-color: #f4f3ef;
        }
        .sidebar {
            background-color: #333;
            color: #fff;
            min-height: 100vh;
        }
        .profile-header {
            background: url('path_to_header_background.jpg') no-repeat center center;
            background-size: cover;
            padding: 120px 0 30px 0;
        }
        .user-info {
            padding: 2rem;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 10px;
            margin-top: -5rem;
        }
        .settings {
            padding: 1rem;
            background: #fff;
            border-radius: 10px;
            margin: 1rem 0;
        }
        .projects {
            background: #fff;
            padding: 1rem;
            border-radius: 10px;
            margin-bottom: 1rem;
        }
        .project-item {
            margin-bottom: 1rem;
        }
        .project-img {
            width: 100%;
            border-radius: 10px;
            transition: all 0.3s;
        }
        .project-img:hover {
            transform: scale(1.05);
        }
        
        .conversations img {
            border-radius: 50%;
        }
        .profile-img {
            width: 80px;
            height: 80px;
            border-radius: 50%;
        }
        .btn-primary {
            background-color: #007bff;
        }
        /* Layout styles for side-by-side panels */
        .info-panels {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
        }
        .info-panels > div {
            flex-basis: calc(50% - 0.5rem);
            flex-grow: 1;
        }
        .editable {
            display: none;
        }
        .project-card {
            position: relative;
            margin-bottom: 15px;
        }
        .project-card .btn {
            margin-right: 5px;
        }
        .edit-form {
            display: none;
        }
    </style>
</head>
<body>
    <div class="container-fluid">
        <div class="row">
            <!-- Sidebar navigation -->
            <nav class="col-md-2 d-none d-md-block bg-dark sidebar">
                <!-- Sidebar content -->
                <ul class="nav flex-column">
                    <li class="nav-item">
                        <a class="nav-link active" href="#">
                            <i class="fas fa-home"></i>
                            Dashboard <span class="sr-only">(current)</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="login.html">
                            <i class="fas fa-home"></i>
                            Sign in <span class="sr-only">(current)</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="register.html">
                            <i class="fas fa-home"></i>
                            Sign up <span class="sr-only">(current)</span>
                        </a>
                    </li>
                    <!-- Add more items here -->
                </ul>
            </nav>

        <!-- Main content -->
        <main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-md-4">
            <!-- Profile header -->
            <div class="profile-header d-flex align-items-end" style="min-height: 250px; background-image: url('../images/pic1.jpg');">
                <!-- Header content could go here -->
            </div>

            <!-- User info -->
            <div class="card user-info mt-n5 shadow">
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-2 text-center">
                            <img src="../images/profile.png" class="profile-img" alt="Profile image">
                        </div>
                            <!-- Add a button to trigger the 'Change Profile Picture' modal -->
            <div class="text-center">
            <button class="btn btn-link" data-toggle="modal" data-target="#changeProfilePicModal">Change PP</button>
            </div>

             <!-- Modal for changing profile picture -->
            <div class="modal fade" id="changeProfilePicModal" tabindex="-1" role="dialog" aria-labelledby="changeProfilePicModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="changeProfilePicModalLabel">Change Profile Picture</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <input type="file" id="profilePicInput" accept="image/*">
                    <img id="profilePicPreview" src="../images/profile.png" alt="Profile Preview" class="profile-img mt-3"/>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    <button type="button" id="saveProfilePicBtn" class="btn btn-primary">Save Changes</button>
                </div>
            </div>
            </div>
            </div>
                        <div class="col-md">
                            <h5>Priscile Nkenmeza</h5>
                            <p>I am a student</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="info-panels">
            <!-- Platform settings -->
            <div class="settings mt-3">
                <h5>Platform Settings</h5>
                <!-- Settings content -->
                <div class="custom-control custom-switch">
                    <input type="checkbox" class="custom-control-input" id="customSwitch1">
                    <label class="custom-control-label" for="customSwitch1">Email me when an opportunity is realised</label>
                </div>
                <div class="custom-control custom-switch">
                    <input type="checkbox" class="custom-control-input" id="customSwitch2">
                    <label class="custom-control-label" for="customSwitch2">Email me when its time for my meeting</label>
                </div>
                <h5>Application</h5>
                <div class="custom-control custom-switch">
                    <input type="checkbox" class="custom-control-input" id="customSwitch3">
                    <label class="custom-control-label" for="customSwitch3">Monthly activities</label>
                </div>
            
            </div>

            <!-- Profile information -->
            <div class="user-info mt-3">
            <h5>Profile Information</h5>
            <div id="profileDisplay">
            <!-- Profile information display here -->
            <p>Hi, I'm Priscile Nkenmeza, Decisions: if you can't decide, the answer is no...</p>
            <h6 id="displayName">Name: Priscile Nkenmeza</h6>
            <h6 id="displayEmail">Email: priscile@gmail.com</h6>
            <h6 id="displayPhone">Phone: +233549923288</h6>
            <h6 id="displayLocation">Location: USA</h6>
            </div>
            <!-- Button to trigger modal -->
            <button id="editProfileBtn" class="btn btn-primary" data-toggle="modal" data-target="#editProfileModal">Edit Profile</button>
            </div>

            <!-- Modal for editing profile information -->
            <div class="modal fade" id="editProfileModal" tabindex="-1" role="dialog" aria-labelledby="editProfileModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="editProfileModalLabel">Edit Profile Information</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <!-- Editable fields here -->
                            <form id="editProfileForm">
                                <input type="textbox" id="descriptionInput" class="form-control my-2" placeholder="About you" value="Hi, I'm Priscile Nkenmeza, Decisions: if you can't decide, the answer is no...">
                                <input type="text" id="nameInput" class="form-control my-2" placeholder="Full name" value="Priscile Nkenmeza">
                                <input type="email" id="emailInput" class="form-control my-2" placeholder="Email" value="priscile@gmail.com">
                                <input type="tel" id="phoneInput" class="form-control my-2" placeholder="Phone" value="+233549923288">
                                <input type="text" id="locationInput" class="form-control my-2" placeholder="Location" value="USA">
                            </form>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                            <button type="button" id="saveEditBtn" class="btn btn-primary">Save Changes</button>
                        </div>
                    </div>
                </div>
            </div>
            </div>
            <!-- Projects -->
            <section class="projects mt-3">
                <h5>Projects</h5>
                <div id="projectList" class="row">
                    <!-- Project cards will be added here dynamically -->
                </div>
                <button id="addProjectBtn" class="btn btn-primary mt-2">Add Project</button>
            </section>
            

            <!-- Templates for project cards and forms -->
            <!-- Templates for project cards and forms -->
            <template id="projectCardTemplate">
                <div class="col-md-6 project-card">
                    <div class="card">
                        <img src="../images/default-project-image.png" class="card-img-top" alt="Project">
                        <div class="card-body">
                            <h5 class="card-title">Project Name</h5>
                            <p class="card-text">Project description...</p>
                            <button class="btn btn-primary view-btn">View</button>
                            <button class="btn btn-secondary edit-btn">Edit</button>
                            <button class="btn btn-danger delete-btn">Delete</button>
                            <!-- Add "Add to Portfolio" button here -->
                            <button class="btn btn-info add-to-portfolio-btn" onclick="window.location='https:apps.ashesi.edu.gh/exp_transcript/view/exp_transcript';">Add to Portfolio</button>
                        </div>
                    </div>
                </div>
            </template>
            
            <template id="editFormTemplate">
                <form class="edit-form">
                    <div class="mb-3">
                        <label for="projectName" class="form-label">Project Name</label>
                        <input type="text" class="form-control" id="projectName">
                    </div>
                    <div class="mb-3">
                        <label for="projectDesc" class="form-label">Description</label>
                        <textarea class="form-control" id="projectDesc" rows="3"></textarea>
                    </div>
                    <button type="submit" class="btn btn-primary">Save Changes</button>
                    <button type="button" class="btn btn-secondary cancel-btn">Cancel</button>
                </form>
            </template>
        </main>
    </div>
</div>
<script src="../js/profile.js"></script>
  

<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.1.9/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.1.9/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-alpha1/js/bootstrap.min.js"></script>


<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.1.9/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
</body>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // JavaScript to handle profile editing
        var saveBtn = document.getElementById('saveEditBtn');
    
        if (saveBtn) {
          saveBtn.addEventListener('click', function() {
            // Save the form data
            var descriptionValue = document.getElementById('descriptionInput') ? document.getElementById('descriptionInput').value : '';
            var nameValue = document.getElementById('nameInput').value;
            var emailValue = document.getElementById('emailInput').value;
            var phoneValue = document.getElementById('phoneInput').value;
            var locationValue = document.getElementById('locationInput').value;
    
            // Update the profile display with the new values
            if (document.getElementById('displayDescription')) {
              document.getElementById('displayDescription').textContent = descriptionValue;
            }
            document.getElementById('displayName').textContent = 'Name: ' + nameValue;
            document.getElementById('displayEmail').textContent = 'Email: ' + emailValue;
            document.getElementById('displayPhone').textContent = 'Phone: ' + phoneValue;
            document.getElementById('displayLocation').textContent = 'Location: ' + locationValue;
    
            // Close the modal using Bootstrap's jQuery method
            $('#editProfileModal').modal('hide');
          });
        }
      });
    
      // Function to add a new project card
      function addProject(projectName, projectDesc) {
          // Clone the template
          let template = document.getElementById('projectCardTemplate').content.cloneNode(true);
          // Set project name and description
          template.querySelector('.card-title').textContent = projectName;
          template.querySelector('.card-text').textContent = projectDesc;
          // Add event listeners for the buttons
          template.querySelector('.view-btn').addEventListener('click', function() {
              alert(projectDesc); // For demo purposes, replace with a modal or detailed view
          });
          template.querySelector('.edit-btn').addEventListener('click', function() {
              // Show edit form
              // Implement the show form logic
          });
          template.querySelector('.delete-btn').addEventListener('click', function() {
              // Remove project card
              // Implement the remove logic
          });
          // Append the new project card to the project list
          document.getElementById('projectList').appendChild(template);
      }
    
      // Event listener for the 'Add Project' button
      document.getElementById('addProjectBtn').addEventListener('click', function() {
          let projectName = prompt('Enter project name:');
          let projectDesc = prompt('Enter project description:');
          const projectImg = "../images/image.png"; 
          if(projectName && projectDesc) {
              addProject(projectName, projectDesc,projectImg);
          }
      });
    
      function addProject(name, desc, imgSrc) {
          const projectList = document.getElementById('projectList');
          const colDiv = document.createElement('div');
          colDiv.className = 'col-md-4 project-card';
          
          const cardDiv = document.createElement('div');
          cardDiv.className = 'card';
          
          const img = document.createElement('img');
          img.src = imgSrc;
          img.className = 'card-img-top';
          img.alt = 'Project Image';
          
          const cardBody = document.createElement('div');
          cardBody.className = 'card-body';
          
          const title = document.createElement('h5');
          title.className = 'card-title';
          title.textContent = name;
          
          const text = document.createElement('p');
          text.className = 'card-text';
          text.textContent = desc;
          
          const editBtn = document.createElement('button');
          editBtn.className = 'btn btn-secondary edit-btn';
          editBtn.textContent = 'Edit';
          editBtn.onclick = function() {
              const newName = prompt("Edit project name:", name);
              const newDesc = prompt("Edit project description:", desc);
              if (newName && newDesc) {
                  title.textContent = newName;
                  text.textContent = newDesc;
              }
          };
          
          const deleteBtn = document.createElement('button');
          deleteBtn.className = 'btn btn-danger delete-btn';
          deleteBtn.textContent = 'Delete';
          deleteBtn.onclick = function() {
              projectList.removeChild(colDiv);
          };
    
          cardBody.appendChild(title);
          cardBody.appendChild(text);
          cardBody.appendChild(editBtn);
          cardBody.appendChild(deleteBtn);
          cardDiv.appendChild(img);
          cardDiv.appendChild(cardBody);
          colDiv.appendChild(cardDiv);
          projectList.appendChild(colDiv);
      }
    
    
      document.addEventListener('DOMContentLoaded', function() {
        document.getElementById('addProjectToPortfolioBtn').addEventListener('click', function() {
            const projectName = document.getElementById('newProjectName').value;
            const projectDesc = document.getElementById('newProjectDesc').value;
            
            if (!projectName || !projectDesc) {
                alert('Please fill out both the project name and description.');
                return;
            }
    
            // Here you can send the data to a server or local storage. 
            // This example will only add it to the local `portfolio.html` page.
            
            // Code to add the project to the `portfolio.html` page would go here.
            // For demonstration, we will just add it to the current page.
            
            const projectList = document.getElementById('projectList');
            const projectCard = document.createElement('div');
            projectCard.classList.add('col-md-4', 'mb-3');
            
            projectCard.innerHTML = `
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">${projectName}</h5>
                        <p class="card-text">${projectDesc}</p>
                    </div>
                </div>
            `;
    
            projectList.appendChild(projectCard);
            
            // Clear the fields
            document.getElementById('newProjectName').value = '';
            document.getElementById('newProjectDesc').value = '';
        });
    });
    
    
    document.addEventListener('DOMContentLoaded', function() {
        // Event listener for the 'Add to Portfolio' button
        document.addEventListener('click', function(event) {
            if (event.target.classList.contains('add-to-portfolio-btn')) {
                const cardBody = event.target.closest('.card-body');
                const projectTitle = cardBody.querySelector('.card-title').textContent;
                const projectDesc = cardBody.querySelector('.card-text').textContent;
    
                // Here you would typically send the data to your server for storage
                // For now, we'll just log it to the console
                console.log('Adding to portfolio:', projectTitle, projectDesc);
    
                // Optionally, update the UI to reflect the addition
                // For example, disable the button to prevent duplicate additions
                event.target.disabled = true;
                event.target.textContent = 'Added to Portfolio';
    
                // Here you could call a function to actually add the project to the portfolio page
                // addToPortfolio(projectTitle, projectDesc); // Define this function as needed
            }
        });
    
        // Function to dynamically add a new project card to the list (You can customize this as per your requirement)
        function addProject(projectName, projectDesc) {
            const projectList = document.getElementById('projectList');
            const template = document.getElementById('projectCardTemplate').content.cloneNode(true);
            
            template.querySelector('.card-title').textContent = projectName;
            template.querySelector('.card-text').textContent = projectDesc;
    
            // Add the clone to the page
            projectList.appendChild(template);
        }
    
        // Example usage:
        // addProject('New Project', 'This is a description of a new project.');
    
        // Other event listeners and functions as needed...
    });
</script>
</html>
