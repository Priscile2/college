<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile Page</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" rel="stylesheet">
    <style>
        body {
            background-color: #f4f3ef;
        }
        .sidebar {
            background-color: #333;
            color: #fff;
            min-height: 100vh;
        }
        .profile-header {
            background: url('path_to_header_background.jpg') no-repeat center center;
            background-size: cover;
            padding: 120px 0 30px 0;
        }
        .user-info {
            padding: 2rem;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 10px;
            margin-top: -5rem;
        }
        .settings {
            padding: 1rem;
            background: #fff;
            border-radius: 10px;
            margin: 1rem 0;
        }
        .projects {
            background: #fff;
            padding: 1rem;
            border-radius: 10px;
            margin-bottom: 1rem;
        }
        .project-item {
            margin-bottom: 1rem;
        }
        .project-img {
            width: 100%;
            border-radius: 10px;
            transition: all 0.3s;
        }
        .project-img:hover {
            transform: scale(1.05);
        }
        
        .conversations img {
            border-radius: 50%;
        }
        .profile-img {
            width: 80px;
            height: 80px;
            border-radius: 50%;
        }
        .btn-primary {
            background-color: #007bff;
        }
        /* Layout styles for side-by-side panels */
        .info-panels {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
        }
        .info-panels > div {
            flex-basis: calc(50% - 0.5rem);
            flex-grow: 1;
        }
        .editable {
            display: none;
        }
        .project-card {
            position: relative;
            margin-bottom: 15px;
        }
        .project-card .btn {
            margin-right: 5px;
        }
        .edit-form {
            display: none;
        }
    
       
    </style>
</head>
<body>

        <!-- Main content -->
        <main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-md-4">
            <!-- Profile header -->
            <div class="profile-header d-flex align-items-end" style="min-height: 250px; background-image: url('../images/pic1.jpg');">
                <!-- Header content could go here -->
            </div>

            <!-- User info -->
            <div class="card user-info mt-n5 shadow">
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-2 text-center">
                            <img src="../images/profile.png" class="profile-img" alt="Profile image">
                        </div>
                            <!-- Add a button to trigger the 'Change Profile Picture' modal -->
    <div class="text-center">
        <button class="btn btn-link" data-toggle="modal" data-target="#changeProfilePicModal">Change PP</button>
    </div>

    <!-- Modal for changing profile picture -->
    <div class="modal fade" id="changeProfilePicModal" tabindex="-1" role="dialog" aria-labelledby="changeProfilePicModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="changeProfilePicModalLabel">Change Profile Picture</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <input type="file" id="profilePicInput" accept="image/*">
                    <img id="profilePicPreview" src="../images/profile.png" alt="Profile Preview" class="profile-img mt-3"/>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    <button type="button" id="saveProfilePicBtn" class="btn btn-primary">Save Changes</button>
                </div>
            </div>
        </div>
    </div>
                        <div class="col-md">
                            <h5>Priscile Nkenmeza</h5>
                            <p>I am a student</p>
                        </div>
                    </div>
                </div>
            </div>
        <div class="info-panels">
            <!-- Platform settings -->
            <div class="settings mt-3">
                <h5>Platform Settings</h5>
                <!-- Settings content -->
                <div class="custom-control custom-switch">
                    <input type="checkbox" class="custom-control-input" id="customSwitch1">
                    <label class="custom-control-label" for="customSwitch1">Email me when an opportunity is realised</label>
                </div>
                <div class="custom-control custom-switch">
                    <input type="checkbox" class="custom-control-input" id="customSwitch2">
                    <label class="custom-control-label" for="customSwitch2">Email me when its time for my meeting</label>
                </div>
                <h5>Application</h5>
                <div class="custom-control custom-switch">
                    <input type="checkbox" class="custom-control-input" id="customSwitch3">
                    <label class="custom-control-label" for="customSwitch3">Monthly activities</label>
                </div>
            
            </div>

            <!-- Profile information -->
<div class="user-info mt-3">
    <h5>Profile Information</h5>
    <div id="profileDisplay">
        <!-- Profile information display here -->
        <p>Hi, I'm Priscile Nkenmeza, Decisions: if you can't decide, the answer is no...</p>
        <h6 id="displayName">Name: Priscile Nkenmeza</h6>
        <h6 id="displayEmail">Email: priscile@gmail.com</h6>
        <h6 id="displayPhone">Phone: +233549923288</h6>
        <h6 id="displayLocation">Location: USA</h6>
    </div>
    <!-- Button to trigger modal -->
    <button id="editProfileBtn" class="btn btn-primary" data-toggle="modal" data-target="#editProfileModal">Edit Profile</button>
</div>

        <!-- Modal for editing profile information -->
        <div class="modal fade" id="editProfileModal" tabindex="-1" role="dialog" aria-labelledby="editProfileModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="editProfileModalLabel">Edit Profile Information</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <!-- Editable fields here -->
                        <form id="editProfileForm">
                            <input type="textbox" id="descriptionInput" class="form-control my-2" placeholder="About you" value="Hi, I'm Priscile Nkenmeza, Decisions: if you can't decide, the answer is no...">
                            <input type="text" id="nameInput" class="form-control my-2" placeholder="Full name" value="Priscile Nkenmeza">
                            <input type="email" id="emailInput" class="form-control my-2" placeholder="Email" value="priscile@gmail.com">
                            <input type="tel" id="phoneInput" class="form-control my-2" placeholder="Phone" value="+233549923288">
                            <input type="text" id="locationInput" class="form-control my-2" placeholder="Location" value="USA">
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                        <button type="button" id="saveEditBtn" class="btn btn-primary">Save Changes</button>
                    </div>
                </div>
            </div>
        </div>
        </div>
            <!-- Projects section -->
    <section class="projects mt-3">
        <h5>Projects</h5>
        <div id="projectList" class="row">
            <!-- Project cards will be dynamically added here -->
        </div>
        <button id="addProjectBtn" class="btn btn-primary mt-2" data-toggle="modal" data-target="#addProjectModal">Add Project</button>
    </section>

    <!-- Add Project Modal -->
    <div class="modal fade" id="addProjectModal" tabindex="-1" role="dialog" aria-labelledby="addProjectModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="addProjectModalLabel">Add New Project</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <input type="text" id="projectNameInput" class="form-control mb-2" placeholder="Project Name">
                    <textarea id="projectDescInput" class="form-control mb-2" placeholder="Project Description"></textarea>
                    <input type="file" id="projectImageInput" class="form-control-file mb-2" accept="image/*">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary" id="saveProjectBtn">Save Project</button>
                </div>
            </div>
        </div>
    </div>
        </main>
    </div>
</div>
<script>
    document.addEventListener('DOMContentLoaded', function() {
      // JavaScript to handle profile editing
      var saveBtn = document.getElementById('saveEditBtn');
  
      if (saveBtn) {
        saveBtn.addEventListener('click', function() {
          // Save the form data
          var descriptionValue = document.getElementById('descriptionInput') ? document.getElementById('descriptionInput').value : '';
          var nameValue = document.getElementById('nameInput').value;
          var emailValue = document.getElementById('emailInput').value;
          var phoneValue = document.getElementById('phoneInput').value;
          var locationValue = document.getElementById('locationInput').value;
  
          // Update the profile display with the new values
          if (document.getElementById('displayDescription')) {
            document.getElementById('displayDescription').textContent = descriptionValue;
          }
          document.getElementById('displayName').textContent = 'Name: ' + nameValue;
          document.getElementById('displayEmail').textContent = 'Email: ' + emailValue;
          document.getElementById('displayPhone').textContent = 'Phone: ' + phoneValue;
          document.getElementById('displayLocation').textContent = 'Location: ' + locationValue;
  
          // Close the modal using Bootstrap's jQuery method
          $('#editProfileModal').modal('hide');
        });
      }
    });

    document.getElementById('saveProjectBtn').addEventListener('click', function() {
        const projectName = document.getElementById('projectNameInput').value;
        const projectDesc = document.getElementById('projectDescInput').value;
        const projectImage = document.getElementById('projectImageInput').files[0];

        const reader = new FileReader();
        reader.onload = function(e) {
            addProject(projectName, projectDesc, e.target.result);
            $('#addProjectModal').modal('hide');
        };
        if(projectImage) {
            reader.readAsDataURL(projectImage);
        } else {
            // If no image is selected, use a default image
            addProject(projectName, projectDesc, 'path_to_default_image.jpg');
            $('#addProjectModal').modal('hide');
        }
    });

    function addProject(name, desc, imgSrc) {
        const projectList = document.getElementById('projectList');
        const colDiv = document.createElement('div');
        colDiv.className = 'col-md-6 project-card';
        
        const cardDiv = document.createElement('div');
        cardDiv.className = 'card';
        
        const img = document.createElement('img');
        img.src = imgSrc;
        img.className = 'card-img-top';
        img.alt = 'Project';

        const cardBody = document.createElement('div');
        cardBody.className = 'card-body';

        const title = document.createElement('h5');
        title.className = 'card-title';
        title.textContent = name;

        const text = document.createElement('p');
        text.className = 'card-text';
        text.textContent = desc;

        const deleteBtn = document.createElement('button');
        deleteBtn.className = 'btn btn-danger';
        deleteBtn.textContent = 'Delete';
        deleteBtn.onclick = function() {
            projectList.removeChild(colDiv);
        };

        cardBody.appendChild(title);
        cardBody.appendChild(text);
        cardBody.appendChild(deleteBtn);
        cardDiv.appendChild(img);
        cardDiv.appendChild(cardBody);
        colDiv.appendChild(cardDiv);
        projectList.appendChild(colDiv);
    }
  </script>
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.1.9/dist/umd/popper.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>  

<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.1.9/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.1.9/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-alpha1/js/bootstrap.min.js"></script>


<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.1.9/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
</body>
</html>
